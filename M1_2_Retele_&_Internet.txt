Basics of Networks and Internet



For the beginning of the lesson we will install Fing app on mobile phone or pc/laptop and scan the Wi-Fi network
We can see the connected devices and the IP address of that devices. 
Also with Fing we can see and track other people's devices if they are connected to a Wi-Fi network. 
After the scan we will se the devices in the network and the router.
The router connects our LAN Network with the internet
The main topic in this module is the IP addresses private/public, router, LAN and ISP. 
I already know the difference between private and public IP. I know what is a router, I know what is a LAN network, and ISP. 
Another term is WAN which means Wide Area Network. 

The above part I already covered in M1_1_Bazele_Reteleleor



OSI Model - 7 Layers

OSI Model           Protocols and Services        TCP/IP Model

1  Physical        Ethernet, Fi-Fi                Link
2  Datalink
3  Network          IP,ARP, ICMP                  Internet
4  Transport       TCP/UDP                        Transport
5  Session         HTTP, HTTPS, FTP, DHCP, PNG    Application
6  Presentation
7  Application



After this I installed Wireshark and watched the traffic in the Wi-Fi network. 

The next discussed topic is ARP which means Address Resolution Protocol 
In LAN without ARP the communication is not possible because in LAN the communication is established between MAC so for IP address A it will be assigned MAC address A and after that the communication in LAN will be MAC based. 

After all this the homework is: Start wireshark as admin, Scan the network traffic and make a screenshot, scan the traffic with TCP filter, HTTP filter and ARP filter. Make a screenshot for each instance. 



Next main topic is: Network simulate with Cisco Packet Tracer

After install and login in Cisco Packet Tracer create a network composing of 1 router 2911, one switch 2960, one pc and one laptop. 
Connect them with a direct cable as: a direct connection from pc to switch. Another direct connection from laptop to switch and another direct connection from switch to router. The switch and router should be connected with gigabit port. 
after the connections , click on the router and choose CLI to configure the router. 
type ? and press enter to see the options available to the router> menu. 
type enable to log in to the privileged mode. The router> is representing user mode. The router# is representing privileged mode. 
In privileged mode we have access to more functions of the router. Type ? to see the commands available to privileged mode
As an example if we type show version - it will show the version of OS for the router.
If we type show ip interface brief - it will show all the gigabit connections interfaces 
If we want to change the name of the router we need to type: config terminal and the router will enter in config mode
Type hostname R1 to change the name from the router to R1 
!!! In the config mode we can make any modification to the router. 

For disabling the domain lookup when typing a wrong command use:
enable -> enter in privileged mode
conf t or configure terminal -> global config
no ip domain-lookup

Now let's set up an ip address for the router.
in config terminal command type interface ? to see al the interface commands or type interface Gig0/0 to access that interface 
after that in R1 (config-if)# type  ip address 192.168.0.1 ? with space after and ? this and  config the subnet mask to 255.255.255.0 and press enter. 

after this to start the router you need to type: no shutdown (some commands need to be negated to start an option or the device)

now add the ip for pc and laptop. pc 192.168.0.2 and laptop 192.168.0.3

Now we will extend the exercise with another router and a server. The connection between the router and the server must be made with a crossover cable instead of straight connection. In the case of two identical equipment's, the connection must be made with a crossover cable. Even if the router and the server are not identical, the connection pins are identical that meaning that a crossover connection is needed.
We connect the fastethernet0 from the server with the Gig0/1 from the Router2 and the Gig0/2 from the Router2 to Gig0/2 from the Router1 

Now for the setup of Router1.
On R1 we type:
enable -> go to privileged mode
conf t(we can use shortcuts)
int Gig0/2
ip address 89.123.45.1 255.255.255.0 
no sh (instead of no shutdown command to start that port/interface)
exit -> to exit to privileged mode

Now for the Router2
enable
conf t
hostname R2 
int Gig0/2
ip address 89.123.45.2 255.255.255.0 
no sh
exit(to exit to R1# mode) 
ping 89.123.45.1 and we will need to have a ok connection. 
conf t
int Gig0/1 
ip address 10.0.0.1 255.255.255.0
no sh

On the Server1 we go to desktop - ip configuration 
ip address 10.0.0.2
subnet mask 255.255.255.0
default gateway 10.0.0.1

Now we can test with a ping from 10.0.0.2 to 10.0.0.1 

If we test with a ping from the pc 192.168.0.2 to 10.0.0.2 we will get host unreachable because there is no connection between the routers. This means that R1 doesn't know how to reach the LAN of R2 and vice versa. 

Now we go on R1 and type
show ip int brief
show ip route (this will show the routing interface) 
conf t
int Gig0/2
ip route 10.0.0.0 255.255.255.0 89.123.45.2  (this will add the route of the data trough router 2)

Now we go on R2 and type:
conf t
int Gig0/1
ip route 192.168.1.0 255.255.255.0 89.123.45.1

Switch Configuration
enable
show ip interface brief -> we will see all the interfaces of the switch(24 ethernet and 2 gigabit and one Vlan1)
hostname SW1 
enable password admin-> to have a password from when remotely connected to switch -> password is admin -> if we do not do this we will not be able to connect remotely to the switch
exit
show run -> to see the  data like name, password or other information.

Because the Switch communicate via MAC address we cannot add ip address to its fast ethernet ports. So we will add the ip address to its virtual lan. and we saw that vlan wen typed: show ip int brief. We do this to can connect remotely to the switch and to configure. 

enable
type password - admin -
conf t
interface vlan 1
ip add 192.168.0.100 255.255.255.0 
no sh 
exit
show ip interface brief -> we will see the ip to the Vlan1 interface
After this we can ping from pc or laptop the 192.168.0.100 to check the connection.

Configure Telnet on the Swtich1 
enable
conf t
line vty 0 4 -> this means that five persons can connect to the switch. (maximum connections are 16 0-15)
password admin -> i use admin for this just to have the same password for everything to be easier for me to remember passwords. 
login -> to enable password checking. 

now we can connect to the switch from pc or laptop.
From cmd, if we connect for the first time ping 192.168.0.100
telent 192.168.0.100 -> and after we enter the password - admin - we are connected to Switch1 

About telnet. Is not the recommended way to connect remotely to a device. The information is not secured and it can be intercepted. The best and correct way to connect remotely is SSH. 
But because this switch cannot have a ssh connection we will make a ssh connection to one of the routers. 

SSH on Router1
enable
conf t
username alin privilege 15 password admin -> privilege 15 is the maximum level of access. 
ip domain-name intro-retele.ro -> wee need to create this domain name.
crypto key generate rsa
1024 
ip ssh version 2
line vty 0 4
login local -> this will ask for username and password. While only login will only ask for password. 

Now to connect from laptop to router1
ssh -l alin 192.168.0.1
admin
and now we will enter directly in privileged mode. 
show users -> to see the users connected to the router.(optional) 



What is VLAN and Switch Config with VLAN. 

VLAN - Virtual Local Area Network
The main purpose of a switch is to create connection to end devices. 
The number of physical ports on a switch is 12,24 and 48 
VLAN - Access Mode - this is communication with end devices - this will be configured on each port 
VLAN -Trunk Mode - this is communication between switches

Three Reasons for using VLAN
1. sharing the network between departments (sectioning/sections)
2. security (isolation)
3. Scalation 

Now for the configuration of a network composed of two switches and 2 pc for each switch. 
First we need to define the VLAN networks. One will be PRODUCTION VLAN and the other will be FINANCIAL VLAN
VLAN 10 - PROD
VLAN 20 - FIN
ON the SW1 we will have one pc for VLAN 10 - PROD and one pc for VLAN 20 - FIN
PC1 FIN 192.168.20.2 255.255.255.0 subnet 192.168.20.1 DNS 8.8.8.8 with the fa0/1 switch port
PC1 PROD 192.168.10.2 255.255.255.0 subnet 192.168.10.1 DNS 8.8.8.8 with the fa0/2 switch port
 
On the SW2 we will have another pc for VLAN 10 - PROD and another one for VLAN 20 - FIN
PC2 FIN 192.168.20.3 255.255.255.0 subnet 192.168.20.1 DNS 8.8.8.8 with the fa0/1 switch port
PC2 PROD 192.168.10.3 255.255.255.0 subnet 192.168.10.1 DNS 8.8.8.8 with the fa0/2 switch port

Now the configuration of VLAN for SW1. 
enable
conf t
hostname SW1
vlan 10
name PROD
end
show vlan
conf t
vlan 20
name FIN
end
show vlan
conf t
int fa0/1
switchport mode access
switchport access vlan 20
exit
int fa0/2
switchport mode access
switchport access vlan 10
end
show vlan

Now the configuration of VLAN for SW2.
enable
conf t
hostname SW2
vlan 10
name PROD
vlan 20
name FIN
do show vlan
exit
int fa/01
switchport mode access
switchport access vlan 20
exit
int fa0/2
switchport mode access
switchport access vlan 10
end 
show vlan

Now the trunk connection of SW1
enable
conf t
int gig0/1
switchport mode trunk
switchport trunk allowed vlan 10,20
do show int trunk

Now the trunk connection of SW2
enable
conf t
int gig0/1
switchport mode trunk
switchport trunk allowed vlan 10,20
do show int trunk
